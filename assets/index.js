"use strict";(()=>{function l(){let e=document.createElement("a");return e.id="commits-link",e.classList.add("entry-category-link"),e.rel="nofollow",e.href=`https://github.com/mkizka/blog/commits/main${location.pathname}.md`,e}function m(e){let t=document.createElement("img"),n=new URL("https://img.shields.io");return n.pathname=`/badge/${encodeURIComponent(e)}-black`,n.searchParams.set("logo","github"),n.searchParams.set("labelColor","black"),n.searchParams.set("color","ddd"),n.searchParams.set("style","flat-square"),t.src=n.toString(),t}function s(e){let t=Math.ceil((new Date().getTime()-new Date(e).getTime())/1e3);return t<=60?`${t}\u79D2\u524D`:(t=Math.ceil(t/60),t<=60?`${t}\u5206\u524D`:(t=Math.ceil(t/60),t<=24?`${t}\u6642\u9593\u524D`:(t=Math.ceil(t/24),t>=30?"30\u65E5\u4EE5\u4E0A\u524D":`${t}\u65E5\u524D`)))}function d(){let e=document.querySelector('[type="application/ld+json"]'),t=JSON.parse(e.textContent),n=`commits (${s(t.dateModified)}\u306B\u66F4\u65B0)`,i=l(),c=m(n);return i.appendChild(c),i}function r(){let e=document.querySelector(".entry-categories");e&&e.appendChild(d())}function u(e){let t=e.parentElement,n=document.createElement("a");n.href=e.src,n.target="_blank",n.appendChild(e),t.appendChild(n)}function o(){let e=document.querySelector(".entry-content");e&&e.querySelectorAll("img").forEach(u)}function g(e){return[...document.querySelectorAll(".entry-category-link")].some(t=>t.textContent==e)}function p(){let e=document.createElement("meta");e.setAttribute("name","robots"),e.setAttribute("content","noindex"),document.head.appendChild(e)}function a(){g("\u96D1\u8A18")&&p()}window.addEventListener("load",()=>{r(),o()});a();})();
